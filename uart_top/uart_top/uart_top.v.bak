`timescale 1ns / 1ps

module uart_top(sys_clk,
                sys_rstn,
                rs232_rx,
                rs232_tx,
					 z
                );

input sys_clk;
input sys_rstn;

input rs232_rx;
output rs232_tx;

output[7:0] z;

wire bps_start1,bps_start2;
wire clk_bps1,clk_bps2; 
wire[7:0] rx_data;
wire rx_int;

baud             baud_rx(   
                            .sys_clk(sys_clk),
                            .sys_rstn(sys_rstn),
                            .bps_start(bps_start1),
                            .clk_bps(clk_bps1)
                        );

uart_rx         uart_rx(        
                            .sys_clk(sys_clk),  
                            .sys_rstn(sys_rstn),
                            .rs232_rx(rs232_rx),
                            .rx_data(rx_data),
                            .rx_int(rx_int),
                            .clk_bps(clk_bps1),
                            .bps_start(bps_start1)
                        );
								

xkz_a				xkz_a(
									.clk(sys_clk),
									.s(rx_data),
									.z(z)
							);
							
baud            baud_tx(    
                            .sys_clk(sys_clk),
                            .sys_rstn(sys_rstn),
                            .bps_start(bps_start2),
                            .clk_bps(clk_bps2)
                        );

uart_tx         uart_tx(
                            .sys_clk(sys_clk),
                            .sys_rstn(sys_rstn),
                            .rx_data(rx_data),
                            .rx_int(rx_int),
                            .rs232_tx(rs232_tx),
                            .clk_bps(clk_bps2),
                            .bps_start(bps_start2)
                        );
								
//xkz_a				xkz_a(
//									.clk(sys_clk),
//									.s(rx_data),
//									.z(z)
//							);								

endmodule
